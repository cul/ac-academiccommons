<%# 
    Overriding the default facet.html.erb view that renders the facet selection modal (when there are a lot of facet field values).

    The ModalComponent uses slots (header, title, body, footer, and some others) to inject content into the template.
    docs: https://viewcomponent.org/guide/slots.html

    We render the FieldPaginator component directly, passing in button_classes as needed for styling.
    We also set the 'header' slot for the Modal Component to display the pagination buttons first and then the Facet title.
    We remove all other elements, as we just need the title, buttons, and paginated list of options.
%>

<%= render Blacklight::System::ModalComponent.new do |component| %>
  <% component.with_prefix do %>
    <div class="facet-pagination top row justify-content-between w-100">
      <%= render(Blacklight::FacetFieldPaginationComponent.new(facet_field: facet_field_presenter(@facet, @display_facet),button_classes: %w[btn btn-default])) %>
    </div>
  <% end %>

  <% component.with_title do %>
      <h1 class="modal-title">
        <%= facet_field_label(@facet.key) %>
      </h1>
  <% end %>


  <div class="facet-extended-list">
    <%= render Blacklight::FacetComponent.new(display_facet: @display_facet,
                                              blacklight_config: blacklight_config,
                                              layout: false) %>
  </div>


  <% component.with_footer do %>
    <div class="facet-pagination top row justify-content-end w-100">
      <%= render(Blacklight::FacetFieldPaginationComponent.new(facet_field: facet_field_presenter(@facet, @display_facet),button_classes: %w[btn btn-default])) %>
    </div>
  <% end %>
<% end %>
