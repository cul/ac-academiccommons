<%= render partial: 'author_agreement' %>

<%= form_with model: @agreement, url: agreement_path, class: 'agreement', local: true do |f| %>
  <fieldset>
    <%= f.hidden_field(:agreement_version, value: Agreement::LATEST_AGREEMENT_VERSION) %>
    <%= f.hidden_field(:token, value: token) if token? %>
      <div class="checkbox">
        <%= f.check_box(:accepted_agreement) %>
        <%= f.label(:accepted_agreement, 'I have read and accept the participation agreement.') %>
      </div>
      <div class="form-group">
        <%= f.label :name, 'Name', class: 'control-label' %>
        <%= f.text_field :name %>
      </div>
      <div class="form-group">
        <%= f.label :email, 'E-mail', class: 'control-label' %>
        <%= f.text_field :email, readonly: (token?) ? 'readonly' : nil %>
      </div>
      <div class="form-group">
        <%= f.label :uni, 'UNI', class: 'control-label' %>
        <%= f.text_field :uni, readonly: 'readonly' %>
      </div>
    <%= f.submit 'Accept', :class => 'btn btn-primary btn-accept' %>
  </fieldset>
<% end %>
